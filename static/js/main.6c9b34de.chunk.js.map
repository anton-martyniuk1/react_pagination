{"version":3,"sources":["components/Pagination/Pagination.tsx","App.tsx","utils.ts","index.tsx"],"names":["Pagination","visibleItems","perPage","currentPage","onPageClick","onArrowClick","arrayOfPages","Array","from","_","i","isFirst","isLast","at","className","href","onClick","map","page","id","String","item","items","to","numbers","n","push","getNumbers","App","state","slice","selectedPageItems","itemsCount","pageLinks","selectedPage","total","length","handleNewItems","setState","lastElement","setItemsPerPage","event","value","target","Math","ceil","selectPage","selectPageWithArrow","currentTarget","textContent","this","onChange","count","htmlFor","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6c9b34de.chunk.js","sourcesContent":["import React, { MouseEvent } from 'react';\n\ntype Props = {\n  visibleItems: string[],\n  perPage: number,\n  currentPage: number,\n  onPageClick: (page: number) => void,\n  onArrowClick: (event: MouseEvent<HTMLElement>) => void,\n};\n\nexport const Pagination: React.FC<Props> = ({\n  visibleItems,\n  perPage,\n  currentPage,\n  onPageClick,\n  onArrowClick,\n}) => {\n  const arrayOfPages = Array.from(Array(perPage), (_, i) => i + 1);\n  const isFirst = currentPage === arrayOfPages[0];\n  const isLast = currentPage === arrayOfPages.at(-1);\n\n  return (\n    <>\n      <ul className=\"pagination\">\n        <li className={`page-item ${isFirst && 'disabled'}`}>\n          <a\n            data-cy=\"prevLink\"\n            className=\"page-link\"\n            href=\"#prev\"\n            aria-disabled={isFirst}\n            onClick={onArrowClick}\n          >\n            «\n          </a>\n        </li>\n\n        {arrayOfPages.map((page) => {\n          const handleChange = () => {\n            onPageClick(page);\n          };\n\n          return (\n            <li\n              className={`page-item ${currentPage !== page || 'active'}`}\n              key={page}\n            >\n              <a\n                id={String(page)}\n                data-cy=\"pageLink\"\n                className=\"page-link\"\n                href={`#${page}`}\n                onClick={handleChange}\n              >\n                {page}\n              </a>\n            </li>\n          );\n        })}\n\n        <li className={`page-item ${isLast && 'disabled'}`}>\n          <a\n            data-cy=\"nextLink\"\n            className=\"page-link\"\n            href=\"#next\"\n            aria-disabled={isLast}\n            onClick={onArrowClick}\n          >\n            »\n          </a>\n        </li>\n      </ul>\n\n      <ul>\n        {visibleItems.map(item => (\n          <li data-cy=\"item\" key={item}>{item}</li>\n        ))}\n      </ul>\n    </>\n  );\n};\n","import React, { ChangeEvent, MouseEvent } from 'react';\nimport './App.css';\nimport { Pagination } from './components/Pagination';\nimport { getNumbers } from './utils';\n\ntype State = {\n  visibleItems: string[],\n  selectedPageItems: number,\n  itemsCount: number[],\n  pageLinks: number,\n  selectedPage: number,\n};\n\nconst items = getNumbers(1, 42)\n  .map(n => `Item ${n}`);\n\nexport class App extends React.Component<{}, State> {\n  state = {\n    visibleItems: items.slice(0, 5),\n    selectedPageItems: 5,\n    itemsCount: [3, 5, 10, 20],\n    pageLinks: 9,\n    selectedPage: 1,\n  };\n\n  total = items.length;\n\n  handleNewItems = () => {\n    this.setState(state => {\n      const { selectedPage, selectedPageItems } = state;\n      const lastElement = selectedPage * selectedPageItems;\n\n      return ({\n        visibleItems: items.slice(\n          lastElement - selectedPageItems,\n          lastElement,\n        ),\n      });\n    });\n  };\n\n  setItemsPerPage = (event: ChangeEvent<HTMLSelectElement>) => {\n    const { value } = event.target;\n\n    this.setState({\n      selectedPageItems: +value,\n      pageLinks: Math.ceil(items.length / +value),\n      selectedPage: 1,\n    });\n\n    this.handleNewItems();\n  };\n\n  selectPage = (page: number) => {\n    this.setState({ selectedPage: page });\n    this.handleNewItems();\n  };\n\n  selectPageWithArrow = (event: MouseEvent<HTMLElement>) => {\n    if (event.currentTarget.textContent === '«') {\n      this.setState(state => ({ selectedPage: state.selectedPage - 1 }));\n    } else {\n      this.setState(state => ({ selectedPage: state.selectedPage + 1 }));\n    }\n\n    this.handleNewItems();\n  };\n\n  render() {\n    const {\n      visibleItems,\n      itemsCount,\n      selectedPageItems,\n      pageLinks,\n      selectedPage,\n    } = this.state;\n\n    return (\n      <div className=\"container\">\n        <h1>Items with Pagination</h1>\n\n        <p className=\"lead\" data-cy=\"info\">\n          {`Page ${selectedPage} (items ${visibleItems[0]} - ${visibleItems.at(-1)} of ${this.total})`}\n        </p>\n\n        <div className=\"form-group row\">\n          <div className=\"col-3 col-sm-2 col-xl-1\">\n            <select\n              data-cy=\"perPageSelector\"\n              id=\"perPageSelector\"\n              className=\"form-control\"\n              value={selectedPageItems}\n              onChange={this.setItemsPerPage}\n            >\n              {itemsCount.map(count => (\n                <option key={count} value={count}>\n                  {count}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <label htmlFor=\"perPageSelector\" className=\"col-form-label col\">\n            items per page\n          </label>\n        </div>\n\n        <Pagination\n          visibleItems={visibleItems}\n          perPage={pageLinks}\n          currentPage={selectedPage}\n          onPageClick={this.selectPage}\n          onArrowClick={this.selectPageWithArrow}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export function getNumbers(from: number, to: number): number[] {\n  const numbers = [];\n\n  for (let n = from; n <= to; n += 1) {\n    numbers.push(n);\n  }\n\n  return numbers;\n}\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}